### Entity와 api 스펙이 1:1로 매핑되면 안되는 이유

→ Entity는 DB와의 상호작용을 위한 모델이며, API 스펙은 외부 시스템과의 상호작용을 위한 모델이다. 이 두 모델은 각각 다른 목적을 가지고 있기에 1:1로 매핑되면 문제가 발생할 수 있다.

불필요한 정보나 보안상 취약한 정보를 노출시킬 수 있다. 이에 따라 일반적으로는 Entity와 API 스펙을 분리하고, 필요한 경우에는 서로 간의 변환 작업을 수행하는 것이 권장된다.

⇒ API 요청 스펙에 맞춰서 **DTO**를 별도의 파라미터로 받는 것이 좋다

### PutMapping → 멱등하다

같은 요청을 여러 번 전송하더라도 결과가 동일하다. 즉, PUT 메소드를 사용하여 동일한 데이터를 여러 번 전송하더라도, 마지막 요청에서 저장된 데이터만 유지되므로 데이터의 일관성을 보장할 수 있다.

### Entity를 직접 노출

entity를 직접 노출할 때 양방향 연관관계가 걸린 곳은 한 곳은 @JsonIgnore 처리해야한다. 그렇지 않을 경우 양쪽을 서로 호출하면서 무한 루프가 발생한다.

하지만 엔티티를 API 응답으로 외부 노출하는 것은 좋지 않기 때문에 Hibernate5Module를 사용하기보다는 DTO로 변환해서 응답하는 것이 더 좋은 방법이다.

